<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Matan | Marketing OS</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Heebo:wght@400;700&family=Montserrat:wght@700&display=swap" rel="stylesheet">
    <script src="config.js"></script>
    <style>
        :root { --window-bg: #f8fafc; --header-bg: #e2e8f0; --accent: #2563eb; --text-dark: #0f172a; --text-light: #475569; }
        
        body { 
            margin: 0; 
            font-family: 'Inter', 'Heebo', sans-serif; 
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%); 
            height: 100vh; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            overflow: hidden; /* ××•× ×¢ ×’×œ×™×œ×” ×¨××©×™×ª */
        }
        
        .desktop { 
            width: 100%; 
            max-width: 1000px; 
            height: 100%; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            justify-content: center; 
            position: relative; 
        }
        
        /* ×—×œ×•×Ÿ ×¨××©×™ */
        .mac-window { 
            width: 95%; 
            height: 85vh; 
            max-height: 750px; 
            background: var(--window-bg); 
            border-radius: 16px; 
            display: flex; 
            flex-direction: column; 
            overflow: hidden; 
            position: relative; 
            z-index: 2; 
            box-shadow: 0 50px 100px rgba(0,0,0,0.5); 
            border: 1px solid rgba(255,255,255,0.1); 
        }
        .mac-window.rtl { direction: rtl; text-align: right; }

        /* Header */
        .header { background: var(--header-bg); padding: 8px 15px; display: flex; align-items: center; justify-content: space-between; height: 45px; border-bottom: 1px solid #cbd5e1; flex-shrink: 0; }
        .dots { display: flex; gap: 6px; } .dot { width: 12px; height: 12px; border-radius: 50%; }
        .red { background: #ff5f56; cursor:pointer; } .yellow { background: #ffbd2e; } .green { background: #27c93f; }

        .tabs { flex-grow: 1; display: flex; align-items: flex-end; gap: 5px; padding: 0 15px; overflow-x: auto; scrollbar-width: none; }
        .tab { background: #cbd5e1; padding: 8px 15px; border-radius: 8px 8px 0 0; font-size: 12px; cursor: pointer; display: flex; align-items: center; gap: 5px; min-width: 80px; white-space: nowrap; }
        .tab.active { background: var(--window-bg); font-weight: bold; color: var(--accent); }
        .close-tab { font-size: 10px; margin-inline-start: 5px; opacity: 0.5; } .close-tab:hover { opacity: 1; color: red; }

        .lang-box { position: relative; }
        .globe { font-size: 18px; cursor: pointer; filter: grayscale(1); transition: 0.3s; } .globe:hover { filter: grayscale(0); transform: scale(1.1); }
        .lang-menu { position: absolute; top: 30px; right: 0; background: white; padding: 8px; border-radius: 8px; display: none; flex-direction: column; gap: 5px; width: 100px; z-index: 100; box-shadow: 0 10px 30px rgba(0,0,0,0.2); }
        .mac-window.rtl .lang-menu { right: auto; left: 0; }
        .lang-box:hover .lang-menu { display: flex; }
        .lang-opt { font-size: 13px; padding: 5px; cursor: pointer; } .lang-opt:hover { color: var(--accent); background: #eff6ff; }

        /* Content Area */
        .content { flex-grow: 1; overflow-y: auto; padding: 30px; background: var(--window-bg); -webkit-overflow-scrolling: touch; }
        .fade { animation: fadeIn 0.4s ease-out; } @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Typography */
        h1 { font-family: 'Montserrat', sans-serif; font-size: 32px; margin: 0 0 10px 0; color: var(--text-dark); }
        .badge { background: #dbeafe; color: #1e40af; padding: 4px 12px; border-radius: 15px; font-size: 12px; font-weight: 700; display: inline-block; margin-bottom: 20px; }
        .bio { font-size: 15px; line-height: 1.6; color: var(--text-light); max-width: 800px; margin-bottom: 30px; }
        
        /* Grid System */
        .grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; padding-bottom: 40px; }
        
        .card { background: white; padding: 15px; border-radius: 10px; border: 1px solid #e2e8f0; cursor: pointer; transition: 0.2s; display: flex; flex-direction: column; justify-content: center; }
        .card:hover { transform: translateY(-3px); border-color: var(--accent); }
        .c-icon { font-size: 24px; display: block; margin-bottom: 5px; }
        .c-title { font-weight: 700; font-size: 13px; color: var(--text-dark); display: flex; justify-content: space-between; align-items: center; }
        .c-sub { font-size: 11px; color: #94a3b8; margin-top: 3px; }

        /* Services Inner Page */
        .svc-tag { color: var(--accent); font-weight: 700; font-size: 11px; text-transform: uppercase; background: #eff6ff; padding: 4px 8px; border-radius: 4px; display: inline-block; margin-bottom: 10px; }
        .svc-desc { font-size: 15px; line-height: 1.6; color: var(--text-light); margin-bottom: 20px; }
        .feats { list-style: none; padding: 0; display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 25px; }
        .feat { display: flex; align-items: center; gap: 8px; font-size: 13px; background: white; padding: 8px; border-radius: 6px; border: 1px solid #f1f5f9; }
        .check { color: #238636; font-weight: bold; }
        .cta { background: var(--accent); color: white; padding: 10px 25px; border-radius: 6px; text-decoration: none; font-weight: 600; font-size: 14px; display: inline-block; }

        /* Dock */
        .dock-wrap { margin-top: -30px; z-index: 100; position: relative; width: 100%; display: flex; justify-content: center; }
        .dock { background: rgba(255,255,255,0.85); backdrop-filter: blur(20px); padding: 10px 20px; border-radius: 20px; display: flex; gap: 15px; border: 1px solid rgba(255,255,255,0.6); box-shadow: 0 15px 35px rgba(0,0,0,0.3); }
        .d-btn { width: 50px; height: 50px; display: flex; justify-content: center; align-items: center; transition: 0.3s; border-radius: 12px; background: white; position: relative; }
        .d-btn:hover { transform: translateY(-15px) scale(1.15); z-index: 10; }
        .d-btn svg { width: 26px; height: 26px; }
        
        .copy { margin-top: 25px; color: rgba(255,255,255,0.5); font-size: 11px; font-weight: 500; }

        /* --- ×”×ª×××•×ª ×œ××•×‘×™×™×œ (Mobile) --- */
        @media (max-width: 700px) {
            .grid { grid-template-columns: repeat(2, 1fr); } /* 2 ×¢××•×“×•×ª ×‘×˜××‘×œ×˜ */
        }

        @media (max-width: 500px) {
            /* ×ª×™×§×•×Ÿ ×”×’×•×‘×” ×•×”××™×§×•× */
            .desktop { justify-content: flex-start; padding-top: 5vh; }
            .mac-window { height: 75vh; width: 92%; } /* ××§×˜×™× ×™× ×§×¦×ª ×›×“×™ ×œ×”×©××™×¨ ××§×•× ×œ×“×•×§ */
            
            /* ×’×¨×™×“ 2 ×¢××•×“×•×ª ×‘× ×™×™×“ + ×¢×™×¦×•×‘ ×§×•××¤×§×˜×™ */
            .grid { grid-template-columns: repeat(2, 1fr); gap: 10px; }
            .card { padding: 12px; text-align: center; }
            .c-title { flex-direction: column; gap: 2px; font-size: 12px; }
            .c-title span { display: none; } /* ×”×¡×ª×¨×ª ×”×—×¥ ×‘× ×™×™×“ ×œ×—×¡×›×•×Ÿ ××§×•× */
            .c-icon { font-size: 20px; margin-bottom: 5px; }
            .content { padding: 20px; }

            /* ×”×¨××ª ×”×“×•×§ ×œ××¢×œ×” */
            .dock-wrap { margin-top: -20px; margin-bottom: 10px; } 
            .dock { padding: 8px 15px; gap: 10px; }
            .d-btn { width: 42px; height: 42px; }
            .d-btn svg { width: 22px; height: 22px; }
            
            /* ×›×•×ª×¨×•×ª ×§×˜× ×•×ª ×™×•×ª×¨ */
            h1 { font-size: 24px; }
            .bio { font-size: 13px; }
            
            /* ×¡×™×“×•×¨ ×”×¤×™×¦'×¨×™× ×‘×˜×•×¨ ××—×“ ×‘× ×™×™×“ */
            .feats { grid-template-columns: 1fr; gap: 5px; }
        }
    </style>
</head>
<body>

<div class="desktop">
    <div class="mac-window" id="win">
        <div class="header">
            <div class="dots"><div class="dot red" onclick="closeAll()"></div><div class="dot yellow"></div><div class="dot green"></div></div>
            <div class="tabs" id="tabList"></div>
            <div class="lang-box">
                <div class="globe">ğŸŒ</div>
                <div class="lang-menu">
                    <div class="lang-opt" onclick="setLang('en')">ğŸ‡ºğŸ‡¸ English</div>
                    <div class="lang-opt" onclick="setLang('he')">ğŸ‡®ğŸ‡± ×¢×‘×¨×™×ª</div>
                    <div class="lang-opt" onclick="setLang('es')">ğŸ‡ªğŸ‡¸ EspaÃ±ol</div>
                </div>
            </div>
        </div>
        <div class="content" id="main"></div>
    </div>

    <div class="dock-wrap">
        <div class="dock" id="dock"></div>
    </div>
    
    <div class="copy">
        Â© 2026 Panda Digital Agency. All Rights Reserved.
        <a href="admin.html" style="text-decoration:none; opacity:0.1; font-size:14px;">ğŸ¼</a>
    </div>
</div>

<script>
    const DB = window.SITE_DATA || { contact: {}, marketing: { en: { services: [] } } };
    let lang = 'en';
    let tabs = ['home'];
    let active = 'home';

    function init() {
        renderDock();
        setLang('en');
    }

    function renderDock() {
        const c = DB.contact;
        const dock = document.getElementById('dock');
        dock.innerHTML = `
            <a href="https://wa.me/${c.whatsapp}" class="d-btn" title="WhatsApp"><svg viewBox="0 0 24 24" fill="#25D366"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/></svg></a>
            <a href="tel:${c.phone}" class="d-btn" title="Call"><svg viewBox="0 0 24 24" fill="#007aff"><path d="M20.01 15.38c-1.23 0-2.42-.2-3.53-.56a.977.977 0 00-1.01.24l-1.57 1.97c-2.83-1.49-5.15-3.8-6.62-6.63l1.97-1.57c.26-.29.35-.69.24-1.07-.37-1.11-.56-2.3-.56-3.53 0-.54-.45-.99-.99-.99H4.19C3.65 3.25 3 3.25 3 4.13c0 9.97 8.09 18.06 18.06 18.06.88 0 1.25-.9 1.25-1.19v-3.69c0-.55-.45-.93-.3-1.93z"/></svg></a>
            <a href="sms:${c.phone}" class="d-btn" title="SMS"><svg viewBox="0 0 24 24" fill="#34C759"><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"/></svg></a>
            <a href="mailto:${c.email}" class="d-btn" title="Email"><svg viewBox="0 0 24 24" fill="#EA4335"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/></svg></a>
            <a href="index.html" class="d-btn" style="background:#1e293b" title="Dev Mode"><svg viewBox="0 0 24 24" fill="#fff"><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/></svg></a>
        `;
    }

    function setLang(l) {
        lang = l;
        const w = document.getElementById('win');
        l === 'he' ? w.classList.add('rtl') : w.classList.remove('rtl');
        renderTabs(); renderMain();
    }

    function renderTabs() {
        const list = document.getElementById('tabList');
        const d = DB.marketing[lang];
        list.innerHTML = tabs.map(t => {
            const isHome = t === 'home';
            const title = isHome ? (lang=='he'?'×¤×¨×•×¤×™×œ':'Profile') : d.services[t].title.split(' ')[0];
            const cls = t === active ? 'active' : '';
            return `<div class="tab ${cls}" onclick="openTab('${t}')">${isHome?'ğŸ ':''} ${title} ${!isHome?`<span class="close-tab" onclick="closeTab(event, ${t})">âœ•</span>`:''}</div>`;
        }).join('');
    }

    function renderMain() {
        const m = document.getElementById('main');
        const d = DB.marketing[lang];
        
        m.classList.remove('fade');
        void m.offsetWidth;
        m.classList.add('fade');

        if(active === 'home') {
            m.innerHTML = `
                <h1>${d.title}</h1>
                <span class="badge">${d.badge}</span>
                <div class="bio">${d.bio}</div>
                <div class="grid">
                    ${d.services.map((s, i) => `
                        <div class="card" onclick="addTab(${i})">
                            <span class="c-icon">${s.icon}</span>
                            <span class="c-title">${s.title} <span>${lang=='he'?'â†':'â†’'}</span></span>
                            <span class="c-sub">${s.desc}</span>
                        </div>
                    `).join('')}
                </div>
            `;
        } else {
            const s = d.services[active];
            m.innerHTML = `
                <span class="svc-tag">${s.title}</span>
                <h2>${s.desc}</h2>
                <ul class="feats">
                    ${s.features.map(f => `<li class="feat"><span class="check">âœ“</span> ${f}</li>`).join('')}
                </ul>
                <a href="https://wa.me/${DB.contact.whatsapp}" class="cta">${s.btn}</a>
            `;
        }
    }

    window.addTab = (idx) => { if(!tabs.includes(idx)) tabs.push(idx); active = idx; renderTabs(); renderMain(); };
    window.openTab = (idx) => { active = idx; renderTabs(); renderMain(); };
    window.closeTab = (e, idx) => { e.stopPropagation(); tabs = tabs.filter(t => t !== idx); if(active === idx) active = 'home'; renderTabs(); renderMain(); };
    window.closeAll = () => { tabs = ['home']; active = 'home'; renderTabs(); renderMain(); };

    init();
</script>
</body>
</html>